{
  "name": "heathdutton/mautic-eb",
  "type": "project",
  "description": "Mautic Open Source Distribution - Modified for scalability",
  "require": {
    "mautic/core": "dev-master"
  },
  "repositories": [
    {
      "type": "package",
      "package": {
        "type": "library",
        "name": "mautic/core",
        "version": "dev-master",
        "source": {
          "type": "git",
          "url": "https://github.com/mautic/mautic.git",
          "reference": "master"
        },
        "require": {
          "mnsami/composer-custom-directory-installer": "1.1.*",
          "wikimedia/composer-merge-plugin": "dev-master"
        }
      }
    }
  ],
  "extra": {
    "installer-paths": {
      "./mautic": [
        "mautic/core"
      ]
    },
    "merge-plugin": {
      "include": [
        "./mautic/composer.json"
      ],
      "recurse": true,
      "replace": false,
      "ignore-duplicates": false,
      "merge-dev": true,
      "merge-extra": true,
      "merge-extra-deep": true,
      "merge-scripts": true
    }
  },
  "scripts": {
    "cache-clear": [
      "@php ./mautic/app/console cache:clear --no-interaction --env=dev --no-warmup",
      "@php -r 'opcache_reset();'"
    ],
    "custom": [
      "bash ./scripts/mautic-custom.sh"
    ],
    "iplookup": [
      "@php ./mautic/app/console mautic:iplookup:download"
    ],
    "migrate": [
      "@php ./mautic/app/console doctrine:migrations:migrate --no-interaction"
    ],
    "setup": [
      "@php ./mautic/app/console doctrine:database:create --no-interaction",
      "@php ./mautic/app/console mautic:install:data --force",
      "@php ./mautic/app/console doctrine:migrations:version --add --all --no-interaction"
    ],
    "drop": [
      "@php ./mautic/app/console doctrine:database:drop --force --no-interaction"
    ],
    "post-install-cmd": [
      "@custom",
      "@iplookup"
    ],
    "post-update-cmd": [
      "@custom",
      "@iplookup"
    ]
  },
  "config": {
    "preferred-install": "dist",
    "vendor-dir": "./vendor"
  },
  "minimum-stability": "dev",
  "prefer-stable": true
}
